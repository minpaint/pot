# Git Quick Start - –†–∞–±–æ—Ç–∞ –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ

## üéØ –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ

**–ù–∞ production —Å–µ—Ä–≤–µ—Ä–µ –ú–´ –ù–ï –î–ï–õ–ê–ï–ú –ö–û–ú–ú–ò–¢–´!**

Production = —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

## üìã –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

–£ –≤–∞—Å —Å–µ–π—á–∞—Å:
- –ú–Ω–æ–≥–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã)
- –ù–µ–æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã (–Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
- 1 –Ω–µ–ø—É—à–Ω—É—Ç—ã–π –∫–æ–º–º–∏—Ç

## üîß –ß—Ç–æ –¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç–∫–∞—Ç–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–û–°–¢–û–†–û–ñ–ù–û!)

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ
git status

# –û—Ç–∫–∞—Ç–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
git restore .

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã
git clean -fd

# –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —á–∏—Å—Ç–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
git reset --hard origin/main
```

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ —É–¥–∞–ª–∏—Ç –í–°–ï –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è!

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ stash
git stash save "Production local changes $(date +%Y%m%d)"

# 2. –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git pull origin main

# 3. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git stash pop
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

–≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –µ—Å—Ç—å –í–ê–ñ–ù–´–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è (–Ω–æ –ª—É—á—à–µ –Ω–µ –Ω–∞–¥–æ –Ω–∞ production!):

```bash
# –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
git add docs/CWP_ARCHITECTURE.md
git add docs/DEBUG_MODE_FIX.md
git add CLAUDE.md
git add settings.py
# ... –∏ —Ç.–¥.

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git commit -m "Production updates: architecture docs and security fixes"

# –ó–∞–ø—É—à–∏—Ç—å
git push origin main
```

## üöÄ –ù–æ—Ä–º–∞–ª—å–Ω—ã–π workflow (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (development)

```bash
# 1. –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–æ–¥–∏–Ω —Ä–∞–∑)
git clone https://github.com/minpaint/OT_online.git
cd OT_online

# 2. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –¥–ª—è —Ñ–∏—á–∏
git checkout -b feature/my-new-feature

# 3. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
# ... —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ ...

# 4. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git add .
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å"

# 5. –ó–∞–ø—É—à–∏—Ç—å
git push origin feature/my-new-feature

# 6. –°–æ–∑–¥–∞—Ç—å Pull Request –Ω–∞ GitHub (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# –ò–ª–∏ —Å—Ä–∞–∑—É –º–µ—Ä–¥–∂ –≤ main:
git checkout main
git merge feature/my-new-feature
git push origin main
```

### –ù–∞ production —Å–µ—Ä–≤–µ—Ä–µ

```bash
# 1. –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
cd /home/django/webapps/potby
git pull origin main

# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate --settings=settings_prod

# 3. –°–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏–∫—É
python manage.py collectstatic --noinput --settings=settings_prod

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
./reload_gunicorn.sh
```

### –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

```bash
cd /home/django/webapps/potby
./deploy_from_git.sh
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/home/django/webapps/potby/
‚îú‚îÄ‚îÄ .git/                    # Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
‚îú‚îÄ‚îÄ .gitignore              # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ venv/                   # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ logs/                   # –õ–æ–≥–∏ (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ run/                    # PID —Ñ–∞–π–ª—ã (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ media/                  # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ .env                    # –°–µ–∫—Ä–µ—Ç—ã (–Ω–µ –≤ Git!)
‚îú‚îÄ‚îÄ settings.py             # –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤ Git)
‚îú‚îÄ‚îÄ settings_prod.py        # Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤ Git)
‚îú‚îÄ‚îÄ settings_dev.py         # Development –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤ Git)
‚îú‚îÄ‚îÄ directory/              # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–≤ Git)
‚îú‚îÄ‚îÄ docs/                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–≤ Git)
‚îú‚îÄ‚îÄ scripts/                # Production —Å–∫—Ä–∏–ø—Ç—ã (–≤ Git)
‚îÇ   ‚îî‚îÄ‚îÄ check_debug_status.py
‚îú‚îÄ‚îÄ utility_scripts/        # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (–ù–ï –≤ Git)
‚îú‚îÄ‚îÄ deploy_from_git.sh      # –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è (–≤ Git)
‚îú‚îÄ‚îÄ start_gunicorn.sh       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º (–≤ Git)
‚îú‚îÄ‚îÄ reload_gunicorn.sh      # (–≤ Git)
‚îî‚îÄ‚îÄ stop_gunicorn.sh        # (–≤ Git)
```

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –¥–ª—è GitHub (–æ–¥–∏–Ω —Ä–∞–∑)

```bash
# 1. –°–æ–∑–¥–∞—Ç—å SSH –∫–ª—é—á
ssh-keygen -t ed25519 -C "dev@ot-online.local"

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
cat ~/.ssh/id_ed25519.pub

# 3. –î–æ–±–∞–≤–∏—Ç—å –Ω–∞ GitHub:
# https://github.com/settings/keys
# "New SSH key" ‚Üí –≤—Å—Ç–∞–≤–∏—Ç—å –∫–ª—é—á

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
ssh -T git@github.com

# 5. –ò–∑–º–µ–Ω–∏—Ç—å remote –Ω–∞ SSH
git remote set-url origin git@github.com:minpaint/OT_online.git
```

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°—Ç–∞—Ç—É—Å (—á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å)
git status

# –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–º–∏—Ç–æ–≤
git log --oneline -10

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git diff

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –≤ stash
git stash list

# –í–µ—Ä–Ω—É—Ç—å –∏–∑ stash
git stash pop

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å remote
git remote -v

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫–∞—è –≤–µ—Ç–∫–∞
git branch --show-current

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –±—É–¥–µ—Ç –ø—Ä–∏ pull
git fetch
git log HEAD..origin/main
```

## ‚ö†Ô∏è –ß–µ–≥–æ –ù–ï –¥–µ–ª–∞—Ç—å

1. ‚ùå `git add .` –Ω–∞ production
2. ‚ùå `git commit` –Ω–∞ production (–∫—Ä–æ–º–µ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞–µ–≤)
3. ‚ùå `git push --force` –ù–ò–ö–û–ì–î–ê
4. ‚ùå –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ production
5. ‚ùå –ö–æ–º–º–∏—Ç–∏—Ç—å .env —Ñ–∞–π–ª

## ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å

1. ‚úÖ `git pull` - –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
2. ‚úÖ `git fetch` - –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. ‚úÖ `git status` - —Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
4. ‚úÖ `git stash` - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
5. ‚úÖ `./deploy_from_git.sh` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ git pull

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ —Ñ–∞–π–ª—ã
git status

# –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–∏–Ω—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git checkout --theirs —Ñ–∞–π–ª
git add —Ñ–∞–π–ª

# –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Å—Ç–∞–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git checkout --ours —Ñ–∞–π–ª
git add —Ñ–∞–π–ª

# –ó–∞–≤–µ—Ä—à–∏—Ç—å merge
git commit
```

### –°–ª—É—á–∞–π–Ω–æ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª–∏

```bash
# –û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç (—Å–æ—Ö—Ä–∞–Ω–∏–≤ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
git reset --soft HEAD^

# –ù–ï –ü–£–®–¨–¢–ï!
```

### –ù—É–∂–Ω–æ —Å—Ä–æ—á–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é
git log --oneline -10

# –û—Ç–∫–∞—Ç–∏—Ç—å –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É
git reset --hard <commit-hash>

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
./reload_gunicorn.sh
```

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **docs/GIT_WORKFLOW.md** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å Git
- **docs/CWP_ARCHITECTURE.md** - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **docs/DEBUG_MODE_FIX.md** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DEBUG —Ä–µ–∂–∏–º–∞
- **PRODUCTION_QUICKSTART.md** - Production quick start

## üí¨ –ü—Ä–∏–º–µ—Ä —Ç–∏–ø–∏—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

```bash
# 1. –ó–∞–π—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh django@192.168.37.10

# 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
cd /home/django/webapps/potby

# 3. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
git fetch
git log HEAD..origin/main --oneline

# 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
./deploy_from_git.sh

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
curl -I https://pot.by

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f logs/gunicorn.error.log
```

–í—Å—ë! üéâ
