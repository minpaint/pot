# –†–∞–±–æ—Ç–∞ —Å Git –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ pot.by

## üéØ –ì–ª–∞–≤–Ω–æ–µ

**Production —Å–µ—Ä–≤–µ—Ä - —ç—Ç–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏—ë–º–Ω–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π!**

–ö–æ–¥ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ ‚Üí –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ GitHub ‚Üí –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ production.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –û–±—ã—á–Ω—ã–π –¥–µ–ø–ª–æ–π

```bash
cd /home/django/webapps/potby
./deploy_from_git.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ stash
- ‚úÖ –ü–æ–ª—É—á–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ GitHub
- ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–±–µ—Ä—ë—Ç —Å—Ç–∞—Ç–∏–∫—É
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç Gunicorn
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

```bash
# 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
git fetch
git log HEAD..origin/main --oneline

# 2. –ü–æ–ª—É—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# 3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate --settings=settings_prod

# 4. –°–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏–∫—É
python manage.py collectstatic --noinput --settings=settings_prod

# 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
./reload_gunicorn.sh
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| **GIT_QUICKSTART.md** | –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ Git |
| **docs/GIT_WORKFLOW.md** | –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Git workflow |
| **docs/CWP_ARCHITECTURE.md** | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ |
| **CLAUDE.md** | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ |

## ‚öôÔ∏è –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

| –°–∫—Ä–∏–ø—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|-----------|
| `./deploy_from_git.sh` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π |
| `./start_gunicorn.sh` | –ó–∞–ø—É—Å–∫ Gunicorn |
| `./reload_gunicorn.sh` | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –±–µ–∑ –¥–∞—É–Ω—Ç–∞–π–º–∞ |
| `./stop_gunicorn.sh` | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Gunicorn |
| `scripts/check_debug_status.py` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°—Ç–∞—Ç—É—Å
git status

# –ò—Å—Ç–æ—Ä–∏—è
git log --oneline -10

# –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
git diff

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git stash

# –í–µ—Ä–Ω—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git stash pop

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å remote
git remote -v
```

## ‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. ‚ùå **–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å** –Ω–∞ production
2. ‚ùå **–ù–ï –ø—É—à–∏—Ç—å** —Å production
3. ‚ùå **–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å** .env —Ñ–∞–π–ª—ã
4. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `./deploy_from_git.sh`
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥ pull
6. ‚úÖ –î–µ–ª–∞—Ç—å backup –ø–µ—Ä–µ–¥ –±–æ–ª—å—à–∏–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏

## üÜò –ü–æ–º–æ—â—å

**–ß–∏—Ç–∞–π—Ç–µ:** GIT_QUICKSTART.md

**–ò–ª–∏:** docs/GIT_WORKFLOW.md –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π

---

**–¢–µ–∫—É—â–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/minpaint/OT_online.git
**Production:** https://pot.by
