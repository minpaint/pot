# Generated by Django 5.0.14 on 2025-11-21 17:51

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('directory', '0042_add_subdivisions_departments_to_profile'),
    ]

    operations = [
        migrations.CreateModel(
            name='MenuItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='–ù–∞–∑–≤–∞–Ω–∏–µ –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é', max_length=100, verbose_name='–ù–∞–∑–≤–∞–Ω–∏–µ')),
                ('icon', models.CharField(blank=True, help_text='Emoji –∏–ª–∏ CSS –∫–ª–∞—Å—Å –∏–∫–æ–Ω–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: üë•, üîß)', max_length=50, verbose_name='–ò–∫–æ–Ω–∫–∞')),
                ('url_name', models.CharField(blank=True, help_text='Django URL name (–Ω–∞–ø—Ä–∏–º–µ—Ä: directory:employees:list) –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–π URL', max_length=200, verbose_name='URL name')),
                ('url', models.CharField(blank=True, help_text='–ü—Ä—è–º–æ–π URL (–µ—Å–ª–∏ url_name –Ω–µ —É–∫–∞–∑–∞–Ω)', max_length=500, verbose_name='–ü—Ä—è–º–æ–π URL')),
                ('order', models.IntegerField(default=0, help_text='–ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–º–µ–Ω—å—à–µ = –≤—ã—à–µ)', verbose_name='–ü–æ—Ä—è–¥–æ–∫')),
                ('location', models.CharField(choices=[('sidebar', '–ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é'), ('top', '–í–µ—Ä—Ö–Ω–µ–µ –º–µ–Ω—é'), ('both', '–û–±–∞ –º–µ–Ω—é')], default='sidebar', help_text='–ì–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —ç—Ç–æ—Ç –ø—É–Ω–∫—Ç –º–µ–Ω—é', max_length=20, verbose_name='–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ')),
                ('is_active', models.BooleanField(default=True, help_text='–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∏–∫–æ–º—É', verbose_name='–ê–∫—Ç–∏–≤–µ–Ω')),
                ('requires_auth', models.BooleanField(default=True, help_text='–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º', verbose_name='–¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏')),
                ('is_separator', models.BooleanField(default=False, help_text='–í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ –ø—É–Ω–∫—Ç–æ–≤', verbose_name='–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å')),
                ('description', models.TextField(blank=True, help_text='–û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤', verbose_name='–û–ø–∏—Å–∞–Ω–∏–µ')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è')),
                ('parent', models.ForeignKey(blank=True, help_text='–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–µ–Ω—é', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='children', to='directory.menuitem', verbose_name='–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—É–Ω–∫—Ç')),
            ],
            options={
                'verbose_name': '–ü—É–Ω–∫—Ç –º–µ–Ω—é',
                'verbose_name_plural': '–ü—É–Ω–∫—Ç—ã –º–µ–Ω—é',
                'ordering': ['order', 'name'],
            },
        ),
        migrations.AddField(
            model_name='profile',
            name='visible_menu_items',
            field=models.ManyToManyField(blank=True, help_text='üçî –ü—É–Ω–∫—Ç—ã –º–µ–Ω—é, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã - –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ.', related_name='user_profiles', to='directory.menuitem', verbose_name='–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é'),
        ),
        migrations.AddIndex(
            model_name='menuitem',
            index=models.Index(fields=['parent', 'order'], name='directory_m_parent__861de1_idx'),
        ),
        migrations.AddIndex(
            model_name='menuitem',
            index=models.Index(fields=['location', 'is_active'], name='directory_m_locatio_950a92_idx'),
        ),
    ]
