from decimal import Decimal

from django.db import migrations, models


def set_siz_costs(apps, schema_editor):
    SIZ = apps.get_model('directory', 'SIZ')
    costs = {
        'Ботинки кожаные': Decimal('72.40'),
        'Ботинки кожаные на жиростойкой подошве': Decimal('87.60'),
        'Ботинки кожаные на жиростойкой подошве или сапоги резиновые формовые морозостойкие': Decimal('103.20'),
        'Ботинки кожаные на маслобензостойкой подошве': Decimal('94.80'),
        'Ботинки кожаные с защитным подноском': Decimal('83.70'),
        'Брюки хлопчатобумажные на утепляющей прокладке': Decimal('52.30'),
        'Валяная обувь': Decimal('67.90'),
        'Галоши диэлектрические': Decimal('32.50'),
        'Галоши на валяную обувь': Decimal('23.10'),
        'Головной убор': Decimal('17.40'),
        'Жилет сигнальный с элементами из световозвращающего материала': Decimal('33.80'),
        'Жилет утепленный': Decimal('58.20'),
        'Каска защитная': Decimal('12.70'),
        'Костюм для защиты от общих производственных загрязнений и механических воздействий': Decimal('104.50'),
        'Костюм для защиты от пониженных температур из хлопчатобумажной ткани': Decimal('208.30'),
        'Костюм хлопчатобумажный': Decimal('92.60'),
        'Куртка хлопчатобумажная на утепляющей прокладке': Decimal('82.90'),
        'Нарукавники прорезиненные': Decimal('16.30'),
        'Очки защитные': Decimal('11.80'),
        'Очки защитные или щиток защитный лицевой': Decimal('22.40'),
        'Перчатка кольчужная': Decimal('157.20'),
        'Перчатки диэлектрические': Decimal('43.70'),
        'Перчатки кожаные': Decimal('31.50'),
        'Перчатки латексные с шероховатой поверхностью': Decimal('17.90'),
        'Перчатки резиновые': Decimal('16.20'),
        'Перчатки трикотажные': Decimal('1.73'),
        'Плащ непромокаемый': Decimal('68.40'),
        'Плащ непромокаемый с капюшоном': Decimal('83.60'),
        'Подшлемник зимний': Decimal('21.80'),
        'Пояс предохранительный лямочный (страховочная привязь)': Decimal('107.30'),
        'Рейтузы женские полушерстяные': Decimal('32.90'),
        'Рукавицы комбинированные': Decimal('12.40'),
        'Сапоги кирзовые утепленные': Decimal('102.70'),
        'Сапоги кирзовые утепленные на маслобензостойкой подошве': Decimal('113.50'),
        'Сапоги резиновые': Decimal('57.80'),
        'Фартук клеенчатый с нагрудником': Decimal('31.20'),
        'Фартук кольчужный с нагрудником': Decimal('312.60'),
        'Фартук прорезиненный с нагрудником': Decimal('32.40'),
        'Фартук хлопчатобумажный с нагрудником': Decimal('22.70'),
        'Халат из хлопчатобумажной антистатической ткани': Decimal('67.30'),
        'Халат хлопчатобумажный': Decimal('57.90'),
        'Ботинки кожаные утепленные с защитным подноском': Decimal('128.40'),
        'Костюм для защиты от пониженных температур и ветра': Decimal('257.80'),
    }

    for name, cost in costs.items():
        SIZ.objects.filter(name=name).update(cost=cost)


def noop(apps, schema_editor):
    pass


class Migration(migrations.Migration):

    dependencies = [
        ('directory', '0049_add_email_recipient_system'),
    ]

    operations = [
        migrations.AddField(
            model_name='siz',
            name='cost',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Стоимость'),
        ),
        migrations.RunPython(set_siz_costs, noop),
    ]
