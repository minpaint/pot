# Generated by Django 5.0.14 on 2025-12-20 11:05

from django.db import migrations, models


def create_document_template_types(apps, schema_editor):
    DocumentTemplateType = apps.get_model('directory', 'DocumentTemplateType')

    # –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞
    DOCUMENT_TYPES = (
        ('journal_example', 'üìí –û–±—Ä–∞–∑–µ—Ü –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∂—É—Ä–Ω–∞–ª–∞'),
        ('instruction_journal', 'üìù –û–±—Ä–∞–∑–µ—Ü –∂—É—Ä–Ω–∞–ª–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ç–∞–∂–µ–π'),
        ('all_orders', 'üìù –†–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏—è –æ —Å—Ç–∞–∂–∏—Ä–æ–≤–∫–µ'),
        ('knowledge_protocol', 'üìã –ü—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–Ω–∞–Ω–∏–π –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞'),
        ('periodic_protocol', 'üìã –ü—Ä–æ—Ç–æ–∫–æ–ª –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–Ω–∞–Ω–∏–π'),
        ('doc_familiarization', 'üìù –õ–∏—Å—Ç –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏'),
        ('siz_card', 'üõ°Ô∏è –ö–∞—Ä—Ç–æ—á–∫–∞ —É—á–µ—Ç–∞ –°–ò–ó'),
        ('personal_ot_card', 'üë§ –õ–∏—á–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ –û–¢'),
    )

    for code, name in DOCUMENT_TYPES:
        DocumentTemplateType.objects.get_or_create(
            code=code,
            defaults={
                'name': name,
                'is_active': True,
            }
        )


def reverse_document_template_types(apps, schema_editor):
    DocumentTemplateType = apps.get_model('directory', 'DocumentTemplateType')
    DocumentTemplateType.objects.filter(code__in=[
        'journal_example',
        'instruction_journal',
        'all_orders',
        'knowledge_protocol',
        'periodic_protocol',
        'doc_familiarization',
        'siz_card',
        'personal_ot_card',
    ]).delete()


class Migration(migrations.Migration):

    dependencies = [
        ('directory', '0052_update_menu_items'),
    ]

    operations = [
        migrations.CreateModel(
            name='DocumentTemplateType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text="–ù–∞–ø—Ä–∏–º–µ—Ä: 'üõ°Ô∏è –ö–∞—Ä—Ç–æ—á–∫–∞ —É—á–µ—Ç–∞ –°–ò–ó'", max_length=100, unique=True, verbose_name='–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–∞')),
                ('code', models.CharField(help_text="–ö–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 'siz_card')", max_length=50, unique=True, verbose_name='–ö–æ–¥ –≤–∏–¥–∞')),
                ('description', models.TextField(blank=True, help_text='–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–∞ —à–∞–±–ª–æ–Ω–∞', verbose_name='–û–ø–∏—Å–∞–Ω–∏–µ')),
                ('is_active', models.BooleanField(default=True, verbose_name='–ê–∫—Ç–∏–≤–µ–Ω')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è')),
            ],
            options={
                'verbose_name': 'üìÑ –í–∏–¥ —à–∞–±–ª–æ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞',
                'verbose_name_plural': 'üìÑ –í–∏–¥—ã —à–∞–±–ª–æ–Ω–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤',
                'ordering': ['name'],
            },
        ),
        migrations.AlterField(
            model_name='documenttemplate',
            name='document_type',
            field=models.CharField(max_length=50, verbose_name='–¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞'),
        ),
        migrations.RunPython(create_document_template_types, reverse_document_template_types),
    ]
