{% extends "admin/base_site.html" %}
{% load i18n admin_urls %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">–ì–ª–∞–≤–Ω–∞—è</a>
    &rsaquo; <a href="{% url 'admin:directory_employee_changelist' %}">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</a>
    &rsaquo; –ù–∞–∑–Ω–∞—á–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ
</div>
{% endblock %}

{% block content %}
<h1>üéì –ù–∞–∑–Ω–∞—á–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ</h1>

<div style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
    <h3 style="margin-top: 0;">–í—ã–±—Ä–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ ({{ employees|length }}):</h3>
    <ul style="margin-bottom: 0;">
        {% for emp in employees %}
        <li>
            <strong>{{ emp.full_name_nominative }}</strong>
            {% if emp.position %} ‚Äî {{ emp.position.position_name }}{% endif %}
            <small style="color: #666;">({{ emp.organization.short_name_ru }})</small>
        </li>
        {% endfor %}
    </ul>
</div>

<form method="post">
    {% csrf_token %}

    <fieldset class="module aligned">
        <h2>–î–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</h2>

        <div class="form-row">
            <div>
                <label for="id_full_name_by">–§–ò–û (–±–µ–ª.):</label>
                {{ form.full_name_by }}
                {% if form.full_name_by.errors %}
                <ul class="errorlist">
                    {% for error in form.full_name_by.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
        </div>

        <div class="form-row">
            <div>
                <label for="id_education_level">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:</label>
                {{ form.education_level }}
                {% if form.education_level.errors %}
                <ul class="errorlist">
                    {% for error in form.education_level.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
        </div>

        <div class="form-row">
            <div>
                <label for="id_prior_qualification">–ò–º–µ—é—â–∞—è—Å—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è:</label>
                {{ form.prior_qualification }}
                {% if form.prior_qualification.errors %}
                <ul class="errorlist">
                    {% for error in form.prior_qualification.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
        </div>

        <p class="help" style="margin-top: 10px;">
            –ü–æ–ª—è –≤—ã—à–µ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã.
        </p>
    </fieldset>

    <fieldset class="module aligned">
        <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è</h2>

        <div class="form-row">
            <div>
                <label for="id_training_type" class="required">–¢–∏–ø –æ–±—É—á–µ–Ω–∏—è:</label>
                {{ form.training_type }}
                {% if form.training_type.help_text %}
                <p class="help">{{ form.training_type.help_text }}</p>
                {% endif %}
                {% if form.training_type.errors %}
                <ul class="errorlist">
                    {% for error in form.training_type.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
        </div>

        <div class="form-row">
            <div>
                <label for="id_profession" class="required">–ü—Ä–æ—Ñ–µ—Å—Å–∏—è –æ–±—É—á–µ–Ω–∏—è:</label>
                {{ form.profession }}
                {% if form.profession.help_text %}
                <p class="help">{{ form.profession.help_text }}</p>
                {% endif %}
                {% if form.profession.errors %}
                <ul class="errorlist">
                    {% for error in form.profession.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
        </div>

        <div class="form-row">
            <div>
                <label for="id_program">–ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—É—á–µ–Ω–∏—è:</label>
                {{ form.program }}
                {% if form.program.help_text %}
                <p class="help">{{ form.program.help_text }}</p>
                {% endif %}
                {% if form.program.errors %}
                <ul class="errorlist">
                    {% for error in form.program.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
        </div>

        <div class="form-row">
            <div>
                <label for="id_qualification_grade">–†–∞–∑—Ä—è–¥ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏:</label>
                {{ form.qualification_grade }}
                {% if form.qualification_grade.help_text %}
                <p class="help">{{ form.qualification_grade.help_text }}</p>
                {% endif %}
            </div>
        </div>

        <div class="form-row">
            <div>
                <label for="id_start_date" class="required">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ–±—É—á–µ–Ω–∏—è:</label>
                {{ form.start_date }}
                {% if form.start_date.help_text %}
                <p class="help">{{ form.start_date.help_text }}</p>
                {% endif %}
                {% if form.start_date.errors %}
                <ul class="errorlist">
                    {% for error in form.start_date.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
        </div>
    </fieldset>

    <div style="margin-top: 20px; padding: 15px; background: #e8f5e9; border-radius: 8px; border-left: 4px solid #4caf50;">
        <h4 style="margin-top: 0; color: #2e7d32;">üìÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –¥–∞—Ç:</h4>
        <p style="margin-bottom: 0; color: #555;">
            –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã:
        </p>
        <ul style="margin-bottom: 0; color: #555;">
            <li><strong>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</strong> ‚Äî –ø–æ —Ç–∏–ø—É –æ–±—É—á–µ–Ω–∏—è –∏ –≥—Ä–∞—Ñ–∏–∫—É —Ä–∞–±–æ—Ç—ã (5/2 –∏–ª–∏ 2/2)</li>
            <li><strong>–î–∞—Ç–∞ —ç–∫–∑–∞–º–µ–Ω–∞</strong> ‚Äî —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –¥–∞—Ç–æ–π –æ–∫–æ–Ω—á–∞–Ω–∏—è</li>
            <li><strong>–î–∞—Ç–∞ –ø—Ä–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã</strong> ‚Äî –∑–∞ 1 —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å –¥–æ —ç–∫–∑–∞–º–µ–Ω–∞</li>
            <li><strong>–î–∞—Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</strong> ‚Äî –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å –ø–æ—Å–ª–µ –ø—Ä–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã</li>
        </ul>
    </div>

    <div class="submit-row" style="margin-top: 20px;">
        <input type="hidden" name="employee_ids" value="{{ employee_ids }}">
        <input type="submit" value="üéì –ù–∞–∑–Ω–∞—á–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ" class="default" style="padding: 10px 20px; font-size: 14px;">
        <a href="{% url 'admin:directory_employee_changelist' %}" class="button" style="padding: 10px 20px; background: #999; color: white; text-decoration: none; border-radius: 4px;">–û—Ç–º–µ–Ω–∞</a>
    </div>
</form>

<style>
    .form-row {
        padding: 10px 0;
    }
    .form-row label {
        display: block;
        font-weight: bold;
        margin-bottom: 5px;
    }
    .form-row label.required::after {
        content: " *";
        color: #c00;
    }
    .form-row select,
    .form-row input[type="date"],
    .form-row input[type="text"],
    .form-row textarea {
        width: 100%;
        max-width: 400px;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    .form-row .help {
        font-size: 11px;
        color: #666;
        margin-top: 3px;
    }
    .errorlist {
        color: #c00;
        margin: 5px 0;
        padding-left: 20px;
    }
</style>
{% endblock %}
